!function(){const t=(t,s)=>{let e;return function(){clearTimeout(e),e=setTimeout(()=>t.apply(this,arguments),s)}},s="disabled";class e{constructor(t,s,e,i,n=null,h=50){this.seed=t,this.match=s,this.notify=e,this.max=i,this.ignore=n,this.mutDebounce=h,this._inMutLoop=!1}init(){this.sync(),this.addMutObs(this.seed.parentElement)}addMutObs(t){if(null===t)return;const s=[];this._mutObs=new MutationObserver(t=>{this._inMutLoop=!0,t.forEach(t=>{t.addedNodes.forEach(t=>{if(1===t.nodeType){const e=t;e.dataset.__pdWIP="1",s.push(e)}})}),s.forEach(t=>delete t.dataset.__pdWIP),this.sync(),this._inMutLoop=!1}),this._mutObs.observe(t,{childList:!0})}sibCheck(t,s){}sync(t=0){const s="function"==typeof this.match;this.matches=[];let e=this._sis?this.seed:this.seed.nextElementSibling;for(;null!==e;){if(null===this.ignore||!e.matches(this.ignore)){if((s?this.match(e):e.matches(this.match))&&(this.matches.push(e),++t>=this.max))return void this.notify(this);this.sibCheck(e,t)}e=e.nextElementSibling}this.notify(this)}disconnect(){this._mutObs.disconnect()}}const i="if",n="lhs",h="rhs",a="tag",o="equals",r="not_equals",l="toggle_disabled",c="m";class u extends(function(t){return class extends t{constructor(){super(...arguments),this._evCount={}}static get observedAttributes(){return[s]}get disabled(){return this._disabled}set disabled(t){this.attr(s,t,"")}attr(t,s,e){this[(s?"set":"remove")+"Attribute"](t,e||s)}to$(t){const s=t%2;return(t-s)/2+"-"+s}incAttr(t){const s=this._evCount;t in s?s[t]++:s[t]=0,this.attr("data-"+t,this.to$(s[t]))}attributeChangedCallback(t,e,i){switch(t){case s:this._disabled=null!==i}}de(t,s,e=!1){const i=t+(e?"":"-changed"),n=new CustomEvent(i,{detail:s,bubbles:!0,composed:!1});return this.dispatchEvent(n),this.incAttr(i),n}_upgradeProperties(t){t.forEach(t=>{if(this.hasOwnProperty(t)){let s=this[t];delete this[t],this[t]=s}})}}}(HTMLElement)){constructor(){super(...arguments),this._conn=!1,this._navDown=null}static get is(){return"if-diff"}static get observedAttributes(){return[i,n,h,a,o,r,s,c]}get if(){return this._if}set if(t){this.attr(i,!!t,"")}get lhs(){return this._lhs}set lhs(t){this.attr(n,t.toString())}get rhs(){return this._rhs}set rhs(t){this.attr(h,t.toString())}get equals(){return this._equals}set equals(t){this.attr(o,t,"")}get not_equals(){return this._not_equals}set not_equals(t){this.attr(r,t,"")}get toggle_disabled(){return this._toggle_disabled}set toggle_disabled(t){this.attr(l,t,"")}get tag(){return this._tag}set tag(t){this.attr(a,t)}get m(){return this._m}set m(t){this.attr(c,t.toString())}attributeChangedCallback(t,s,e){super.attributeChangedCallback(t,s,e);const l="_"+t;switch(t){case o:case r:case i:this[l]=null!==e;break;case a:case n:case h:case c:this[l]=e}this.onPropsChange()}init(){this.passDown()}connectedCallback(){this.style.display="none",this._upgradeProperties(u.observedAttributes),this._conn=!0,this._debouncer=t((t=!1)=>{this.passDown()},16),setTimeout(()=>{this.init()},50)}onPropsChange(){this._conn&&!this._disabled&&this._debouncer()}loadTemplate(t){const s=t.querySelector("template");s?(t.appendChild(s.content.cloneNode(!0)),s.remove()):setTimeout(()=>{this.loadTemplate(t)},50)}tagMatches(t){const s=t.matches,e=this.value,i=this._tag;s.forEach(t=>{"0"===t.dataset[i]?e&&(this.loadTemplate(t),t.dataset[i]="1"):t.dataset[i]=e?"1":"-1",this._toggle_disabled&&(e?t.removeAttribute("disabled"):t.setAttribute("disabled",""))})}passDown(){let t=this._if;if(t&&(this._equals||this._not_equals)&&(t=this._equals?this._lhs===this._rhs:this._lhs!==this._rhs),this.value=t,this.de("value",{value:t}),this._tag)if(null===this._navDown){this._tag;const t=t=>t.dataset&&!!t.dataset[this._tag],s=this._m?this._m:1/0,i=this.tagMatches.bind(this);this._navDown=new e(this,t,t=>i(t),s),this._navDown.init()}else this.tagMatches(this._navDown)}disconnect(){this._navDown&&this._navDown.disconnect()}}!function(t){let s=t.is;customElements.get(s)?console.warn("Already registered "+s):customElements.define(s,t)}(u)}();